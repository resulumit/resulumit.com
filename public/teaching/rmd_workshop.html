---
title: "Writing Reproducible Research Papers with R Markdown"
subtitle: "Resul Umit"
institute: ""
date: "November 2020"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      highlightSpans: true
      countIncrementalSlides: false
      ratio: "16:9"
---

<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>
<link href="/rmarkdown-libs/countdown/countdown.css" rel="stylesheet" />
<script src="/rmarkdown-libs/countdown/countdown.js"></script>


<style type="text/css">

.hljs-github .hljs {
    background: #e5e5e5;
}

.inline-c, remark-inline-code {
   background: #e5e5e5;
   border-radius: 3px;
   padding: 4px;
   font-family: 'Source Code Pro', 'Lucida Console', Monaco, monospace;
}


.yellow-h{
   background: #ffff88;
}


.out-t, remark-inline-code {
   background: #9fff9f;
   border-radius: 3px;
   padding: 4px;
   
}

.pull-left-c {
    float: left;
    width: 58%;
    
}

.pull-right-c {
    float: right;
    width: 38%;
    
}

.medium {
    font-size: 75%
    
}

.small {
    font-size: 50%
    }

.action {
    background-color: #f2eecb;
  
}


</style>
<div id="who-am-i" class="section level2">
<h2>Who am I?</h2>
<p>Resul Umit</p>
<ul>
<li><p>post-doctoral researcher at the University of Oslo</p></li>
<li><p>interested in representation, elections, and parliaments</p>
<ul>
<li><p><a href="https://doi.org/10.1080/17457289.2019.1604529">a recent publication</a>:
When members of parliament disagree with their principals (country, constituency, party), how do they justify this to them?</p></li>
<li><p>more at <a href="https://resulumit.com/">resulumit.com</a></p></li>
</ul></li>
</ul>
</div>
<div id="how-did-i-use-to-write" class="section level2">
<h2>How did I use to write?</h2>
<p>Then, with .yellow-h[Stata + R + LaTeX], I was …</p>
<ul>
<li><p><del>frustrated with Word</del></p>
<ul>
<li><del>formatting tables, figures, citations, and equations</del></li>
<li><del>managing references</del></li>
</ul></li>
<li><p>tired of switching between programmes/screens</p>
<ul>
<li>and, worried about making mistakes in between</li>
</ul></li>
<li><p>paying for the Stata licence</p></li>
<li><p>converting PDF documents to Word manually</p>
<ul>
<li>coordinating work with co-authors who don’t use LaTeX/PDF</li>
<li>submitting to journals which don’t accept LaTeX/PDF</li>
</ul></li>
</ul>
</div>
<div id="r-markdown" class="section level2">
<h2>R Markdown</h2>
<ul>
<li><p>Efficient</p>
<ul>
<li>write text, cite sources, tidy data, analyse, table, and plot it in one programme/screen</li>
<li>re-do one, more, or all of these with ease
<ul>
<li>decrease the possibility of making mistakes in the process</li>
</ul></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>Flexible</p>
<ul>
<li>output to various formats
<ul>
<li>e.g., HTML, LaTeX, PDF, Word</li>
</ul></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>Open access/source</p>
<ul>
<li>use for free</li>
<li>create documents accessible to anyone with a computer and internet connection</li>
<li>benefit from the work of a great community of users/developers</li>
</ul></li>
</ul>
</div>
<div id="reproducibilty-after-publication" class="section level2">
<h2>Reproducibilty — After Publication</h2>
<ul>
<li><p>After your paper is published, if others, including your future self, would like to test how robust the results are</p>
<ul>
<li>to reversing a re-coded variable to its previous/original measure</li>
<li>and/or, to excluding a subgroup of observations from analysis</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>How resource intensive would this test be?</p>
<ul>
<li>how accesible is the data, documentation (how was the variable re-coded in the first place?), and the code?</li>
<li>how long would the test take?</li>
<li>how many programmes would be needed for this revision, and how much would they cost?</li>
<li>there is an inverse relationship between this resource intensity and reproducibilty</li>
</ul></li>
</ul>
</div>
<div id="the-workshop-contents" class="section level2">
<h2>The Workshop — Contents</h2>
<p>.pull-left[</p>
<p><a href="#part1">Part 1. Getting the Tools Ready</a>
- e.g., downloading course material</p>
<p><a href="#part2">Part 2. Introducing R Markdown</a>
- e.g., creating a new document</p>
<p><a href="#part3">Part 3. Setting Metadata</a>
- e.g., defining output format</p>
<p><a href="#part4">Part 4. Writing Text</a>
- e.g., adding emphasis to text</p>
<p><a href="#part5">Part 5. Managing References</a>
- e.g., citing sources</p>
<p>]</p>
<table style="width:4%;">
<colgroup>
<col width="4%" />
</colgroup>
<tbody>
<tr class="odd">
<td>name: contents-slide</td>
</tr>
<tr class="even">
<td>.pull-right[</td>
</tr>
<tr class="odd">
<td><a href="#part6">Part 6. Adding Code, Figures, and Tables</a>
- e.g., plotting data</td>
</tr>
<tr class="even">
<td><a href="#part7">Part 7. Addressing Functionality Gaps</a>
- e.g., adjusting line spacing</td>
</tr>
<tr class="odd">
<td><a href="#part8">Part 8. Using Version Control</a>
- e.g., integrating Git and GitHub</td>
</tr>
<tr class="even">
<td><a href="#part9">Part 9. Collaborating with Others</a>
- e.g., working simultaneously with co-authors</td>
</tr>
<tr class="odd">
<td><a href="#part10">Part 10. Working on a Real Project</a>
- e.g., converting a work-in-progress of yours</td>
</tr>
<tr class="even">
<td>]</td>
</tr>
</tbody>
</table>
</div>
<div id="the-workshop-organisation" class="section level2">
<h2>The Workshop — Organisation</h2>
<ul>
<li><p>Sit in groups of two</p>
<ul>
<li>participants learn as much from their partner as from instructors</li>
<li>switch partners after every second part</li>
</ul></li>
<li><p>Type, rather than copy and paste, the code that you will find on these slides</p>
<ul>
<li>typing is a part of the learning process</li>
</ul></li>
<li><p>When you have a question</p>
<ul>
<li>ask your partner</li>
<li>google together</li>
<li>ask me</li>
</ul></li>
</ul>
</div>
<div id="the-workshop-organisation-slides" class="section level2">
<h2>The Workshop — Organisation — Slides</h2>
<ul>
<li>Codes and texts that go in R Markdown documents .inline-c[appear as such — in a different font, on gray background]
<ul>
<li>long codes and texts will have their own line(s)</li>
</ul></li>
</ul>
<pre class="md"><code>```{r, scatterplot, fig.cap = &quot;A scatterplot of journal metrics.&quot;}

ggplot(data = df, mapping = aes(x = h5_median, y = h5_index, color = subfield)) +
       geom_point() +
       facet_wrap(. ~ branch) +
       scale_colour_discrete(name = &quot;Journal Type&quot;, breaks = c(0, 1), labels = c(&quot;Generalist&quot;, &quot;Subfield&quot;))    

```</code></pre>
</div>
<div id="the-workshop-aims" class="section level2">
<h2>The Workshop — Aims</h2>
<ul>
<li><p>To make you aware what is possible with R Markdown</p>
<ul>
<li>we will cover a large breath of issues, not all of it is for long-term memory
<ul>
<li>one reason why the slides are designed for self study as well<br />
<br></li>
</ul></li>
<li>awareness of what is possible, <code>Google</code>, and perseverance are all we need</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>To encourage you to convert into R Markdown</p>
<ul>
<li>practice with a mock manuscript (Parts 3–9)</li>
<li>start converting a real one (Part 10)</li>
</ul></li>
</ul>
<p>name: download-zip
class: action</p>
</div>
<div id="course-materials-download-from-the-internet" class="section level2">
<h2>Course Materials — Download from the Internet</h2>
<p>Materials, available at <a href="https://github.com/resulumit/rmd_workshop" class="uri">https://github.com/resulumit/rmd_workshop</a>,<sup>*</sup> have the following structure</p>
<pre><code>rmd_workshop
   |
   |- manuscript
   |  |- journals.Rmd
   |  |- references.bib
   |  |- apa_7th.csl
   |  |- reproduce_this.pdf
   |
   |-data
   |  |- journals.csv
   |
   |-image
   |  |- google_scholar.png
   |
   |-presentation
   |  |- rmd_workshop.pdf
</code></pre>
<p>.footnote[</p>
<p><sup>*</sup> On GitHub, follow <code>Code -&gt; Download ZIP</code> to download.</p>
<p>]</p>
</div>
<div id="course-materials-contents" class="section level2">
<h2>Course Materials — Contents</h2>
<ul>
<li><code>reproduce_this.pdf</code>
<ul>
<li>the document, formatted in Word but saved as PDF, that we will re-create with R Markdown</li>
<li>randomly generated sentences, with figures and tables from randomly generated dataset</li>
<li>key sections in-need of attention are highlighted</li>
</ul></li>
<li><code>journals.Rmd</code>
<ul>
<li>the R Markdown document that we will work on</li>
<li>includes unformatted text from <code>reproduce_this.pdf</code> to save time</li>
<li>major components, such as paragraphs and tables, are numbered and marked in comments to facilitate navigation</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p><code>references.bib</code></p>
<ul>
<li>a BibTeX document with three fabricated references</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p><code>apa_7th.csl</code></p>
<ul>
<li>a Citation Style Language document, with APA (7th Edition) referencing style (Wiernik, 2020)</li>
</ul></li>
</ul>
</div>
<div id="course-materials-contents-1" class="section level2">
<h2>Course Materials — Contents</h2>
<ul>
<li><p><code>google_scholar.png</code></p>
<ul>
<li>a screeenshot image of the <a href="https://scholar.google.ch/">Google Scholar homapage</a></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p><code>rmd_workshop.pdf</code></p>
<ul>
<li>these slides in PDF format</li>
<li>HTML version is available at <a href="https://resulumit.com/teaching/rmd_workshop.html" class="uri">https://resulumit.com/teaching/rmd_workshop.html</a>
<ul>
<li>offers, among others, the ability to scroll across long codes on some slides</li>
</ul></li>
</ul></li>
</ul>
<p>class: action</p>
</div>
<div id="github-open-an-account" class="section level2">
<h2>GitHub — Open an Account</h2>
<p>Sign up for GitHub at <a href="https://github.com/">https://github.com</a></p>
<ul>
<li><p>registering an account is free</p></li>
<li><p>usernames are public
- either choose an anonymous username (e.g., <code>asdf029348</code>)
- or choose one carefully — it becomes a part of users’ online presence</p></li>
<li><p>usernames can be changed later</p></li>
</ul>
<p>class: action</p>
</div>
<div id="r-packages-install-from-within-rstudio" class="section level2">
<h2>R Packages — Install from within RStudio</h2>
<pre class="r"><code>install.packages(c(&quot;rmarkdown&quot;, &quot;tinytex&quot;, &quot;dplyr&quot;, &quot;stargazer&quot;, &quot;ggplot2&quot;))

tinytex::install_tinytex()</code></pre>
<p>–</p>
<ul>
<li><code>rmarkdown</code> (Allaire et al., 2020), for automating the process of converting R Markdown documents into other formats</li>
</ul>
<p>class: action</p>
</div>
<div id="r-packages-install-from-within-rstudio-1" class="section level2">
<h2>R Packages — Install from within RStudio</h2>
<pre class="r"><code>install.packages(c(&quot;rmarkdown&quot;, &quot;tinytex&quot;, &quot;dplyr&quot;, &quot;stargazer&quot;, &quot;ggplot2&quot;))

tinytex::install_tinytex()</code></pre>
<ul>
<li><code>dplyr</code> (Wickham, 2020a), for data manipulation
<ul>
<li>alternatives: e.g., <code>base</code>, <code>data.table</code> (Dowle &amp; Srinivasan, 2019)</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><code>stargazer</code> (Hlavac, 2018), for tables
<ul>
<li>alternatives: e.g., <code>knitr</code> (Xie, 2020b), <code>kableExtra</code> (Zhu, 2019)</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><code>ggplot2</code> (Wickham, 2020b), for figures
<ul>
<li>alternatives: e.g., <code>base</code>, <code>plotly</code> (Sievert et al., 2020)</li>
</ul></li>
</ul>
<p>class: action</p>
</div>
<div id="r-markdown-cheat-sheet-download-from-the-internet" class="section level2">
<h2>R Markdown Cheat Sheet — Download from the Internet</h2>
<p>Downloading process can be initiated from within RStudio</p>
<ul>
<li>follow from the RStudio menu</li>
</ul>
<blockquote>
<p><code>Help -&gt; Cheatsheets -&gt; R Markdown Cheat Sheet</code></p>
</blockquote>
<p>name: part2
class: inverse, center, middle</p>
</div>
<div id="part-2.-introducing-r-markdown" class="section level1">
<h1>Part 2. Introducing R Markdown</h1>
<p>.footnote[</p>
<p><a href="#contents-slide">Back to the contents slide</a>.</p>
<p>]</p>
<div id="r-markdown-document-components" class="section level2">
<h2>R Markdown Document — Components</h2>
<p>.pull-left-c[</p>
<p>Observe also that the document has three components</p>
<ul>
<li>.yellow-h[YAML]
]</li>
</ul>
<p>.pull-right-c[
<img src="/rmarkdown-libs/images_data/yaml.PNG" />]</p>
</div>
<div id="r-markdown-document-components-1" class="section level2">
<h2>R Markdown Document — Components</h2>
<p>.pull-left-c[</p>
<p>Observe also that the document has three components</p>
<ul>
<li>YAML</li>
<li>text</li>
<li>.yellow-h[code chunks]</li>
</ul>
<p>]</p>
<p>.pull-right-c[
<img src="/rmarkdown-libs/images_data/yaml.PNG" />
<img src="/rmarkdown-libs/images_data/text.PNG" />
<img src="/rmarkdown-libs/images_data/chunk.PNG" />]</p>
</div>
<div id="r-markdown-document-compilation-process" class="section level2">
<h2>R Markdown Document — Compilation Process</h2>
<ul>
<li><p>When you <code>Knit</code>, the following happens:
&gt; <code>.Rmd --knitr--&gt; .md --pandoc--&gt; output</code></p>
<ul>
<li><p><code>knitr</code><sup>*</sup> executes the code if there is any, converts the resulting document from .Rmd (R Markdown) into .md (Markdown)</p></li>
<li><p><code>pandoc</code><sup>**</sup> transforms the .md document into your preferred output format(s)</p>
<ul>
<li>e.g., HTML, LaTeX, PDF, Word</li>
</ul></li>
</ul></li>
<li><p>This process is automated by the <code>rmarkdown</code> package</p></li>
</ul>
<p>.footnote[</p>
<p><sup>*</sup> If you had not already have the <code>knitr</code> package, it would have been installed together with the <code>rmarkdown</code> package.</p>
<p><sup>**</sup> RStudio comes with a copy of <code>pandoc</code> (<a href="http://pandoc.org">http://pandoc.org</a>), which is not an R package, so that you do not have to install it separately.</p>
<p>]</p>
<p>name: part3
class: inverse, center, middle</p>
</div>
</div>
<div id="part-3.-setting-metadata" class="section level1">
<h1>Part 3. Setting Metadata</h1>
<p>.footnote[</p>
<p><a href="#contents-slide">Back to the contents slide</a>.</p>
<p>]</p>
<p>title:
output:
—</p>
<pre><code>

.footnote[

&lt;sup&gt;*&lt;/sup&gt; Technically, we can place YAML anywhere in a .Rmd document. However, it is a good practice to start with YAML so that the metadata is easly accessbile.

]

---
## YAML &amp;mdash; Variables

- `title` and `output` are the basic variables of YAML
    - variable names are typed in lower case, followed by a colon &lt;span style=&quot;background-color: #ffff88;&quot;&gt;:&lt;/span&gt;
&lt;br&gt;
    - the list of available variables, as well as options and sub-options for these variables, depends on the output format
       - [Pandoc User&#39;s Guide](https://pandoc.org/MANUAL.html) provides a comprehensive documentation
       - R Markdown Cheat Sheet provides a helpful list

- Typical YAML variables for an research paper:


```r
---
title: 
author: 
date: 
bibliography: 
csl: 
output: 
---</code></pre>
<p>title: “Journals: Random Words With Random Data” #&lt;&lt;
output:
—</p>
<pre><code>
---
## YAML &amp;mdash; Variables

Variables can take strings, .yellow-h[options]


```r
---
title: &quot;Journals: Random Words With Random Data&quot; 
output: pdf_document                                  #&lt;&lt;
---</code></pre>
<p>title: “Journals: Random Words With Random Data”
output:
pdf_document:
keep_tex: true #&lt;&lt;
—</p>
<pre><code>
---
## YAML &amp;mdash; Variables

Variables can take strings, options, sub-options, and .yellow-h[code]


```r
---
title: &quot;Journals: Random Words With Random Data&quot; 
date: &quot;`r format(Sys.Date(), &#39;%d %B %Y&#39;)`&quot;      #&lt;&lt;
output: 
    pdf_document:
        keep_tex: true                    
---</code></pre>
<p>title: “Journals: Random Words With Random Data”
output: html_document #&lt;&lt;
—</p>
<pre><code>]    

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml_html.png&quot; width=&quot;95%&quot; /&gt;

]

---
## YAML &amp;mdash; Variables &amp;mdash; Output Formats

.pull-left-c[

Documents as output formats include

- HTML
- .yellow-h[LaTeX]
    

```r
---
title: &quot;Journals: Random Words With Random Data&quot; 
output: latex_document #&lt;&lt;
---</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="/rmarkdown-libs/images_data/yaml_latex.PNG" width="95%" /></p>
<p>]</p>
<p>title: “Journals: Random Words With Random Data”
output: pdf_document #&lt;&lt;
—</p>
<pre><code>]    

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml_pdf.png&quot; width=&quot;95%&quot; /&gt;

]

---
## YAML &amp;mdash; Variables &amp;mdash; Output Formats

.pull-left-c[

Documents as output formats include

- HTML
- LaTeX
- PDF
- .yellow-h[Word]
    

```r
---
title: &quot;Journals: Random Words With Random Data&quot; 
output: word_document #&lt;&lt;
---</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="/rmarkdown-libs/images_data/yaml_word.PNG" width="95%" /></p>
<p>]</p>
<div id="yaml-strings" class="section level2">
<h2>YAML — Strings</h2>
<p>.pull-left-c[</p>
<p>Strings with special characters, such as colon, require quotation marks .yellow-h["] or .yellow-h[’]</p>
<pre class="r"><code>---
title: &quot;Journals: Random Words With Random Data&quot; #&lt;&lt;
output: pdf_document                                  
---</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="/rmarkdown-libs/images_data/yaml_pdf.PNG" width="95%" /></p>
<p>]</p>
<p>title: “Journals: Random Words With Random Data”
subtitle: A Mock Paper for an R Markdown Workshop #&lt;&lt;
author: Jane Doe #&lt;&lt;
date: 4 March 2020 #&lt;&lt;
output: pdf_document<br />
—</p>
<pre><code>]

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml2.png&quot; width=&quot;95%&quot; /&gt;

]

---
## YAML &amp;mdash; Strings

.pull-left-c[

The syntax .inline-c[[^footnotes_go_here]] adds footnotes to strings


```r
---
title: &quot;Journals: Random Words With Random Data^[Preliminary draft. Please do not cite or circulate without permission from the author.]&quot; #&lt;&lt;
subtitle: A Mock Paper for an R Markdown Workshop
author: &quot;Jane Doe^[Department of Science, University of Random. Email: jane.doe@random.edu. Website: http://www.janedoe.com.]&quot;                                    #&lt;&lt;
date: 4 March 2020                                
output: pdf_document                                    
---</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="/rmarkdown-libs/images_data/yaml3.PNG" width="95%" /></p>
<p>]</p>
<p>title: “Journals: Random Words With Random Data<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>”
subtitle: A Mock Paper for an R Markdown Workshop
author: “Jane Doe<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>”<br />
date: 4 May 2020
bibliography: references.bib #&lt;&lt;
csl: apa_7th.csl #&lt;&lt;<br />
output: pdf_document<br />
—</p>
<pre><code>
---
## YAML &amp;mdash; Strings

These strings depend on (a) where the files are located and (b) how they are named


```r
---
...
bibliography: references/ref_library.bib                                               #&lt;&lt;
csl: &quot;C:/Users/resul/Dropbox/teaching/r_markdown/references/chicago_manual_17.csl&quot;     #&lt;&lt;
...
---</code></pre>
<p>title: “Journals: Random Words With Random Data<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>”
subtitle: A Mock Paper for an R Markdown Workshop
author: “Jane Doe<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>”
date: 4 March 2020<br />
bibliography: references.bib
csl: apa_7th.csl<br />
output: #&lt;&lt;
pdf_document: #&lt;&lt;
keep_tex: true #&lt;&lt;
—</p>
<pre><code>
]

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml4.png&quot; width=&quot;100%&quot; /&gt;

]

---
## YAML &amp;mdash; Options and Sub-Options

.pull-left[

Options can have sub-options


```r
---
title: &quot;Journals: Random Words With Random Data^[Preliminary draft. Please do not cite or circulate without permission from the author.]&quot;
subtitle: A Mock Paper for an R Markdown Workshop
author: &quot;Jane Doe^[Department of Science, University of Random. Email: jane.doe@random.edu. Website: http://www.janedoe.com.]&quot;                                    
date: 4 March 2020  
bibliography: references.bib
csl: apa_7th.csl   
output:                   #&lt;&lt;
    pdf_document:         #&lt;&lt;
        keep_tex: true    #&lt;&lt;
---</code></pre>
<p>]</p>
<p>.pull-right[</p>
<p>Notice that</p>
<ul>
<li><p>this specific setting, highlighted, will create multiple outputs</p>
<ul>
<li>a LaTeX and a PDF document</li>
</ul></li>
<li><p>all but the last option (i.e., <code>true</code>) takes a colon</p></li>
<li><p>options and sub-options (except the last option, again) are stepwise indented</p>
<ul>
<li>exactly with four spaces</li>
<li>the alignment between the colons for <code>pdf_document</code> and <code>keep_tex</code> is coincidental</li>
</ul></li>
</ul>
<p>]</p>
<p>title: “Journals: Random Words With Random Data<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>”
subtitle: A Mock Paper for an R Markdown Workshop
author: “Jane Doe<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>”
date: “<code>r format(Sys.Date(), '%d %B %Y')</code>” #&lt;&lt;
bibliography: references.bib
csl: apa_7th.csl<br />
output: pdf_document
—</p>
<pre><code>
]

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml5.png&quot; width=&quot;95%&quot; /&gt;

]

---
## YAML &amp;mdash; R Code

.pull-left[

Variables can take code as well


```r
---
title: &quot;Journals: Random Words With Random Data^[Preliminary draft. Please do not cite or circulate without permission from the author.]&quot;
subtitle: A Mock Paper for an R Markdown Workshop
author: &quot;Jane Doe^[Department of Science, University of Random. Email: jane.doe@random.edu. Website: http://www.janedoe.com.]&quot;
date: &quot;`r format(Sys.Date(), &#39;%d %B %Y&#39;)`&quot;  #&lt;&lt;
bibliography: references.bib
csl: apa_7th.csl   
output: pdf_document
---</code></pre>
<p>]</p>
<p>.pull-right[</p>
<p>Notice that</p>
<ul>
<li><p>such codes can be particularly useful for variables</p>
<ul>
<li>that need frequent updates</li>
<li>and that can be automatically updated
<ul>
<li>e.g., <code>date</code></li>
</ul></li>
</ul></li>
<li><p>there are quotation marks around the code</p></li>
<li><p>we’ll cover codes in .Rmd documents later on in the workshop</p></li>
</ul>
<p>]</p>
<p>title: “Journals: Random Words With Random Data<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>”
subtitle: A Mock Paper for an R Markdown Workshop
author: “Jane Doe<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>”
date: “First version: 4 March 2020. This version: <code>r format(Sys.Date(), '%d %B %Y')</code>.” #&lt;&lt;
bibliography: references.bib
csl: apa_7th.csl<br />
output: pdf_document
—</p>
<pre><code>
]

.pull-right-c[

&lt;img src=&quot;rmd_workshop_files/images_data/yaml6.png&quot; width=&quot;95%&quot; /&gt;

]

---
## YAML &amp;mdash; Some Further Settings for PDF Outputs

- `fontsize`
    - the default is `10pt`
    - the other options are `11pt` and `12pt`
    
- `linkcolor`, `urlcolor`, `citecolor`
    - the default is the colour of the text
    - the other options are white, red, green, blue, cyan, magenta, yellow

- `link-citations`
    - the default is `no`
    - the other option is `yes` &amp;mdash; a click on an citation will take the screen to the relevant entry in the list of references

---
class: action

## Exercises

1) Open `journals.Rmd` and fill in the YAML variables for the mock paper
- take cues from `reproduce_this.pdf` and/or the slides

2) Add and set one of the variables mentioned among *Some Further Settings for PDF Outputs*
- i.e., `fontsize`, `linkcolor`, `urlcolor`, `citecolor`, `link-citations`

3) Add and set a completely new variable not covered so far
- see R Markdown Cheat Sheet
    
4) `Knit` your `journals.Rmd`

5) Consider tidying your working directory
- you may wish to delete any trial files you have created so far
    - except, perhaps, journals.pdf, which we will keep re-creating   
&lt;br&gt;
- the original documents are `journals.Rmd`, `references.bib`, and `apa_7th.csl`
    
<div class="countdown" id="timer_5fb590a4" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---
name: part4
class: inverse, center, middle

# Part 4. Writing Text

.footnote[

[Back to the contents slide](#contents-slide).

]

---
## Syntax &amp;mdash; Overview

- R Markdown follows the syntax in Pandoc&#39;s Markdown 

   - for the complete rules of the syntax, see [Pandoc User&#39;s Guide](https://pandoc.org/MANUAL.html)
   - for a useful summary of the syntax, see the R Markdown Cheat Sheet

---
## Syntax &amp;mdash; Lines

Multiple spaces on a given line are reduced to one


```r
This is a sentence followed by four spaces.    This is another sentence on the same line.</code></pre>
<p>.out-t[This is a sentence followed by four spaces. This is another sentence on the same line.]</p>
<p><br></p>
<p>Line endings with fewer than two spaces are ignored</p>
<pre class="r"><code>This is a sentence followed by one space.
This is another sentence on a new line.</code></pre>
<p>.out-t[This is a sentence followed by one space. This is another sentence on a new line.]</p>
</div>
<div id="syntax-line-blocks" class="section level2">
<h2>Syntax — Line Blocks</h2>
<p>Spaces in lines starting with a vertical line .yellow-h[|] are kept</p>
<pre class="r"><code>| a one-space indent
|     a five-space indent
|          a ten-space indent  </code></pre>
<p>.out-t[</p>
<p> a one-space indent<br />
     a five-space indent<br />
          a ten-space indent</p>
<p>]</p>
</div>
<div id="syntax-paragraphs" class="section level2">
<h2>Syntax — Paragraphs</h2>
<p>One or more<sup>*</sup> blank lines introduce a new paragraph</p>
<pre class="r"><code>This is the first sentence of a paragraph as it is preceded by a blank line. This is the second 
sentence of that paragraph, which is followed by a blank line. 

This is the first sentence of a *new paragraph* as it is preceded by a blank line. This is the 
second sentence of that paragraph, which is followed by a blank line.</code></pre>
<p>.out-t[</p>
<p>This is the first sentence of a paragraph as it is preceded by a blank line. This is the second
sentence of that paragraph, which is followed by a blank line.</p>
<p>This is the first sentence of a <em>new paragraph</em> as it is preceded by a blank line. This is the
second sentence of that paragraph, which is followed by a blank line.</p>
<p>]</p>
<p>.footnote[</p>
<p><sup>*</sup> Multiple blank lines between paragraphs reduce to one.</p>
<p>]</p>
<p>class: action</p>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<ol start="6" style="list-style-type: decimal">
<li>Hard Brakes</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: page 1</li>
<li>apply in <code>journals.Rmd</code>: paragraph 1</li>
</ul>
<p><br></p>
<ol start="7" style="list-style-type: decimal">
<li>Line Blocks / Block Quotes</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: page 1</li>
<li>apply in <code>journals.Rmd</code>: block quote, between paragraphs 1 and 2</li>
</ul>
<div class="countdown" id="timer_5fb591bf" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="syntax-emphases" class="section level2">
<h2>Syntax — Emphases</h2>
<p>A pair of single asterisk .yellow-h[*] or underscores .yellow-h[_] introduces italics</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">*italics*</span> becomes .out-t[<em>italics</em>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">_italics_</span> becomes .out-t[<em>italics</em>] as well</p>
<p><br></p>
<p>A pair of double asterisk or underscores introduces bold</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">**bold**</span> becomes .out-t[<strong>bold</strong>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">__bold__</span> becomes .out-t[<strong>bold</strong>] as well</p>
<p><br></p>
<p>These two rules can be combined</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">**_bolditalics_**</span> becomes .out-t[<strong><em>boldsitalics</em></strong>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">_**bolditalics**_</span> becomes .out-t[<em><strong>bolditalics</strong></em>] as well</p>
<p>class: action</p>
</div>
<div id="exercises-1" class="section level2">
<h2>Exercises</h2>
<ol start="8" style="list-style-type: decimal">
<li>Headers</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: pages 1 to 11
<ul>
<li>11 headers, Abstract to References<br />
<br><br />
</li>
</ul></li>
<li>apply in <code>journals.Rmd</code></li>
</ul>
<p><br></p>
<ol start="9" style="list-style-type: decimal">
<li>Emphases</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: pages 1 and 2
<ul>
<li>bold and italics<br />
<br></li>
</ul></li>
<li>apply in <code>journals.Rmd</code>: paragraph 2</li>
</ul>
<div class="countdown" id="timer_5fb5931c" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="syntax-links-external" class="section level2">
<h2>Syntax — Links — External</h2>
<p>You can link text to URLs</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">[visit my website](https://resulumit.com/)</span> becomes .out-t[<a href="https://resulumit.com/">visit my website</a>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">[https://resulumit.com](https://resulumit.com/)</span> becomes .out-t[<a href="https://resulumit.com/">https://resulumit.com</a>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">&lt;https://resulumit.com&gt;</span> becomes .out-t[<a href="https://resulumit.com" class="uri">https://resulumit.com</a>] as well</p>
<p>–</p>
<p><br></p>
<p>You can also link text to an email address</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">[email me](<a href="mailto:mailto:resuluy@uio.no" class="email">mailto:resuluy@uio.no</a>)</span><sup>*</sup> becomes .out-t[<a href="mailto:resuluy@uio.no">email me</a>]</p>
<p><span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">&lt;<a href="mailto:resuluy@uio.no" class="email">resuluy@uio.no</a>&gt;</span> becomes .out-t[<a href="mailto:resuluy@uio.no" class="email">resuluy@uio.no</a>]</p>
<p>.footnote[</p>
<p><sup>*</sup> Notice the prefix .yellow-h[mailto:] in the syntax</p>
<p>]</p>
</div>
<div id="syntax-equations" class="section level2">
<h2>Syntax — Equations</h2>
<p>Inline equations go between a pair of single dollar signs <span style="background-color: #ffff88;">$</span> — with no space between the signs and the equation itself</p>
<p>.inline-c[<span class="math inline">\(E = mc^{2}\)</span>] becomes .out-t[<em>E = mc<sup>2</sup></em>]</p>
<p><br></p>
<p>–</p>
<p>Block equations go in between a pair of double dollar signs — with or without spaces, it works</p>
<p>.inline-c[$$ E = mc^{2}].inline-c[$$] becomes</p>
<p>.out-t[</p>
<center>
<i> E = mc<sup>2</sup> </i>
</center>
<p>]</p>
<p><br></p>
<p>.inline-c[$$E = mc_{2}].inline-c[$$] becomes</p>
.out-t[
<center>
<i> E = mc<sub>2</sub> </i>
</center>
<p>]</p>
</div>
<div id="syntax-footnotes-notes-with-identifiers" class="section level2">
<h2>Syntax — Footnotes — Notes with Identifiers</h2>
<p>An alternative is to use the .inline-c[[^identifier]] syntax, with identifiers defined elsewhere in the same document</p>
<pre class="r"><code>Dr Doe holds a PhD in rock science.[^defence_date]

[^defence_date]: She defended her thesis in 2017.</code></pre>
<p>.out-t[Dr Doe holds a PhD in rock science.<sup>1</sup>]</p>
<p><br></p>
<p>.footnote[</p>
<p>.out-t[<sup>1</sup> She defended her thesis in 2017.]</p>
<p>]</p>
<p>–</p>
<p>Notice that</p>
<ul>
<li>the caret sign comes .yellow-h[after] the left square bracket</li>
<li>this syntax works in text, but not in YAML</li>
</ul>
</div>
<div id="syntax-lists" class="section level2">
<h2>Syntax — Lists</h2>
<p>Lines starting with asterisk .yellow-h[*] as well as plus .yellow-h[+] or minus .yellow-h[−] signs introduce lists</p>
<pre class="r"><code>- books
- articles
- reports</code></pre>
<p>.out-t[</p>
<ul>
<li>books</li>
<li>articles</li>
<li>reports</li>
</ul>
<p>]</p>
</div>
<div id="syntax-lists-numbering" class="section level2">
<h2>Syntax — Lists — Numbering</h2>
<p>List items can be numbered</p>
<pre class="r"><code>1. books
2. articles
    - published
    - under review
        + revised and resubmitted
    - work in progress</code></pre>
<p>.out-t[</p>
<ol style="list-style-type: decimal">
<li>books</li>
<li>articles
<ul>
<li>published</li>
<li>under review
<ul>
<li>revised and resubmitted</li>
</ul></li>
<li>work in progress</li>
</ul></li>
</ol>
<p>]</p>
</div>
<div id="syntax-sub--and-super-scripts" class="section level2">
<h2>Syntax — Sub- and Super-scripts</h2>
<p>.pull-left[</p>
<p>A pair of tildes introduces subscript</p>
<p>.inline-c[CO~2~] becomes .out-t[CO<sub>2</sub>]</p>
<p><br></p>
<p>A pair of carets introduces subscript</p>
<p>.inline-c[R^2^] becomes .out-t[R<sup>2</sup>]</p>
<p>]</p>
<p>class: action</p>
</div>
<div id="exercises-2" class="section level2">
<h2>Exercises</h2>
<ol start="14" style="list-style-type: decimal">
<li>Lists</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: page 3</li>
<li>apply in <code>journals.Rmd</code>: list, between paragraphs 10 and 11</li>
</ul>
<p><br></p>
<ol start="15" style="list-style-type: decimal">
<li>Dashes</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: page 2</li>
<li>apply in <code>journals.Rmd</code>: paragraph 6</li>
</ul>
<p><br></p>
<ol start="16" style="list-style-type: decimal">
<li>Sub- and Super-scripts</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: page 2</li>
<li>apply in <code>journals.Rmd</code>: paragraph 5</li>
</ul>
<div class="countdown" id="timer_5fb59212" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="references-bibliography-database" class="section level2">
<h2>References — Bibliography Database</h2>
<p>.pull-left-c[
- References are defined in .bib files
- they follow the BibTeX format</p>
<p><br></p>
<ul>
<li><code>pandoc</code> looks for a .bib file, and for the definitions therein, to process citations
<ul>
<li>.bib files are specified with the <code>bibliography</code> variable in YAML</li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li><code>pandoc</code> can process a citation only if there is a linked entry in the .bib file
<ul>
<li>but not all entries have to be cited</li>
</ul></li>
</ul>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="/rmarkdown-libs/images_data/bib.PNG" width="95%" /></p>
<p>]</p>
</div>
<div id="references-bibliography-database-entries" class="section level2">
<h2>References — Bibliography Database — Entries</h2>
<ul>
<li>One could create entries by hand
<ul>
<li>this requires knowing the BibTeX format, entry types, tags, and related information about references to be cited
<ul>
<li>this is not efficient</li>
</ul></li>
</ul></li>
<li>A good alternative is to use <code>Google Scholar</code>, which provides BibTeX entries
<ul>
<li>follow <code>cite -&gt; BibTex</code> and copy</li>
<li>paste into .bib, edit if necessary, and save</li>
</ul></li>
<li>Some publishers and journals provide BibTeX entries on their website as well</li>
</ul>
</div>
<div id="references-in-text-citation-syntax" class="section level2">
<h2>References — In-text Citation Syntax</h2>
<p>All citations keys take the ‘at’ sign .yellow-h[@] while square brackets and/or minus signs introduce variation</p>
<p><br></p>
<p>.inline-c[<span class="citation">[@bennett2015]</span>] becomes .out-t[(Bennett, 2015)]</p>
<p>.inline-c<span class="citation">[@bennett2015]</span> becomes .out-t[Bennett (2015)]</p>
<p>.inline-c[<span class="citation">[-@bennett2015]</span>] becomes .out-t[(2015)]</p>
<p>.inline-c<span class="citation">[-@bennett2015]</span> becomes .out-t[2015]</p>
<p>.inline-c[<span class="citation">[@bennett2015 35]</span>] becomes .out-t[(Bennett, 2015, p. 35)]</p>
<p>.inline-c[<span class="citation">[@bennett2015 33-35]</span>] becomes .out-t[(Bennett, 2015, pp. 33–35)]</p>
<p>.inline-c[<span class="citation">[@bennett2015, ch. 1]</span>] becomes .out-t[(Bennett, 2015, ch. 1)]</p>
<p>.inline-c[<span class="citation">[@bennett2015; @gilbert2019]</span>] becomes .out-t[(Bennett, 2015; Gilbert, 2019)]</p>
<p>.inline-c[<span class="citation">[see @bennett2015, for details]</span>] becomes .out-t[(see Bennett, 2015, for details)]</p>
<p>.inline-c<span class="citation">[@bennett2015 [33-35]]</span> becomes .out-t[Bennett (2015, pp. 33–35)]</p>
<p>name: reference-links</p>
</div>
<div id="references-internal-links" class="section level2">
<h2>References — Internal Links</h2>
<p>For internal links from in-text citations to the reference list, set .inline-c[link-citations: yes] in YAML</p>
<ul>
<li>a click on these links takes the screen to the relevant entry in the list</li>
<li>the <code>linkcolor</code> variable make these links explicit
<ul>
<li>setting this is not necessary for the links to work — the default is black</li>
</ul></li>
</ul>
<pre class="r"><code>---
...
bibliography: references.bib
csl: apa_7th.csl
link-citations: yes    #&lt;&lt;
linkcolor: blue        #&lt;&lt;
...
---</code></pre>
<p>name: part6
class: inverse, center, middle</p>
</div>
</div>
<div id="part-6.-adding-code-figures-and-tables" class="section level1">
<h1>Part 6. Adding Code, Figures, and Tables</h1>
<p>.footnote[</p>
<p><a href="#contents-slide">Back to the contents slide</a>.</p>
<p>]</p>
<div id="code-overview" class="section level2">
<h2>Code — Overview</h2>
<p>Most codes go inside code chunks
- e.g., code that imports and cleans data, and/or produces tables and/or figures</p>
<pre class="md"><code>```{r}

df &lt;- read.csv(&quot;rmd_workshop_files/images_data/journals.csv&quot;) %&gt;% 
      mutate(age = 2020 - since,
             english = factor(english),
             subfield = factor(subfield))

```</code></pre>
<p>Codes can also go in line with text
- e.g., code that results in a single statistic</p>
<pre class="r"><code>The average H5 Index for the journals in the dataset is \`r mean(df$h5_index)`.</code></pre>
</div>
<div id="code-chunks-labels" class="section level2">
<h2>Code Chunks — Labels</h2>
<p>It is recommended to label the code chunks, which are otherwise automatically numbered
- informative labels can be helpful for navigating through error messages as well as filenames of plots and cache
- in the example below, the chunk is labelled as <code>data_import</code>
<br>
- but note that duplicate labels lead to an error during compilation</p>
<pre class="md"><code>```{r, `data_import`}

df &lt;- read_csv(&quot;data/journals.csv&quot;)

```</code></pre>
</div>
<div id="code-chunks-options-defaults" class="section level2">
<h2>Code Chunks — Options — Defaults</h2>
<p>Options have default values</p>
<ul>
<li>e.g., for <code>echo</code>, the default is <code>TRUE</code>
- <code>echo</code>: should the source code printed in the output?
- <code>TRUE</code>: yes it should<br />
<br></li>
<li>therefore the following two chunks have the same function</li>
</ul>
<pre class="md"><code>```{r}

```</code></pre>
<pre class="md"><code>```{r, `echo=TRUE`}

```</code></pre>
</div>
<div id="code-chunks-options" class="section level2">
<h2>Code Chunks — Options</h2>
<p>Setting .inline-c[echo=FALSE] prevents the code from being displayed in the output document</p>
<pre class="md"><code>```{r ... `echo=FALSE`}

head(df)

```</code></pre>
<p>This chunk therefore prints one thing in the output document — the head of the data frame</p>
<p>.out-t[</p>
<pre><code>##                name   origin   branch h5_index h5_median english subfield
## 1  Journal of Bears Americas Physical       73        97       1        1
## 2   Journal of Moon     Asia   Social       72       106       1        0
## 3 Journal of Lumber Americas Physical       72       100       1        1
## 4 Journal of Houses   Europe   Social       72       102       1        0
## 5  Journal of Water   Europe   Social       70       100       1        0
## 6  Journal of Jeans Americas Physical       69       101       1        1
##   issues age
## 1      7  61
## 2      6  64
## 3      8  30
## 4      8  38
## 5      5  33
## 6      5  64</code></pre>
<p>]</p>
</div>
<div id="code-chunks-other-useful-options" class="section level2">
<h2>Code Chunks — Other Useful Options</h2>
<p>Cache results for future compilations</p>
<pre class="md"><code>```{r ... `cache=TRUE`}

```</code></pre>
<p>–</p>
<p>Prevent R from running the code in the chunk altogether</p>
<pre class="md"><code>```{r ... `eval=FALSE`}

```</code></pre>
<p>–</p>
<p>Prevent messages and/or warnings from being displayed in the output</p>
<pre class="md"><code>```{r ... `error=FALSE`, `message=FALSE`, `warning=FALSE`}

```</code></pre>
</div>
<div id="code-chunks-other-useful-options-1" class="section level2">
<h2>Code Chunks — Other Useful Options</h2>
<p>Define captions for figures</p>
<pre class="md"><code>```{r ... `fig.caption=&quot;A Scatter Plot&quot;`}

```</code></pre>
<p>–</p>
<p>Set the resolution for figures</p>
<pre class="md"><code>```{r ... `dpi=300`}

```</code></pre>
<p>–</p>
<p>Set extra options, such as angle, that output format would accept for figures</p>
<pre class="md"><code>```{r ... `out.extra=&quot;angle=45&quot;`}

```</code></pre>
</div>
<div id="code-chunks-the-data-chunk" class="section level2">
<h2>Code Chunks — The Data Chunk</h2>
<p>I recommend using the second chunk for the main operations<sup>*</sup> on raw data
- e.g., for data cleaning and other transformations
- some minor transformations could be left to lower chunks
- e.g., capitalizing variable names for figures</p>
<pre class="md"><code>```{r, data, echo=FALSE ...}

df &lt;- df_raw `%&gt;%`
      `...`

```</code></pre>
<p>.footnote[</p>
<p><sup>*</sup> I will be using the pipe operator <span style="background-color: #ffff88; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;"><code>%&gt;%</code></span> and other functions from the <code>dplyr</code> package for such operations in the following slides.</p>
<p>]</p>
</div>
<div id="code-chunks-the-data-chunk-1" class="section level2">
<h2>Code Chunks — The Data Chunk</h2>
<p>Create a new variable <code>age</code>, based on the existing variable <code>since</code>, to be used in regression models later on</p>
<pre class="md"><code>```{r, data, echo=FALSE ...}

df &lt;- df_raw %&gt;%
      mutate(subfield = as.factor(subfield), 
             english = as.factor(english),
             `age = 2020 - since`)

```</code></pre>
<p>–</p>
<p>Drop the <code>since</code> variable, so that it won’t appear in our summary statistics table later on</p>
<pre class="md"><code>```{r, data, echo=FALSE ...}

df &lt;- df_raw %&gt;%
      mutate(subfield = as.factor(subfield), 
             english = as.factor(english),
             age = 2020 - since) `%&gt;%`
      `select(-since)`
```</code></pre>
</div>
<div id="inline-code-examples" class="section level2">
<h2>Inline Code — Examples</h2>
<pre class="r"><code>If we multiply _pi_ by 5, we get \`r pi * 5`.</code></pre>
<p>.out-t[If we multiply <em>pi</em> by 5, we get 15.7079633.]</p>
<hr style="height:10px; visibility:hidden;" />
<pre class="r"><code>The average H5 Index for the journals in the dataset is \`r mean(df$h5_index)`, which would 
round to \`r round(mean(df$h5_index), digits = 1)`.</code></pre>
<p>.out-t[The average H5 Index for the journals in the dataset is 26.3611366, which would round to 26.4.]</p>
<hr style="height:10px; visibility:hidden;" />
<pre class="r"><code>__Only \`r nrow(subset(df, english == 0))` journals__ in the dataset are published in a language
other than English.</code></pre>
<p>.out-t[<strong>Only 113 journals</strong> in the dataset are published in a language other than English.]</p>
<p>class: center, middle</p>
</div>
</div>
<div id="figures" class="section level1">
<h1>Figures</h1>
<div id="figures-images-markdown-syntax" class="section level2">
<h2>Figures — Images — Markdown Syntax</h2>
<pre class="r"><code>![A screenshot of the Google Scholar homepage](../image/google_scholar.png)</code></pre>
<p><img src="/rmarkdown-libs/images_data/google_scholar.png" width="65%" style="display: block; margin: auto;" /></p>
<center>
Figure 1: A screenshot of the Google Scholar homepage.
</center>
</div>
<div id="figures-images-markdown-syntax-1" class="section level2">
<h2>Figures — Images — Markdown Syntax</h2>
<p>The syntax can accept <code>width</code> or <code>height</code> attributes as follows</p>
<pre class="r"><code>![A screenshot of the Google Scholar homepage](../image/google_scholar.png)`{ width=40% }`</code></pre>
<p><img src="/rmarkdown-libs/images_data/google_scholar.png" width="40%" style="display: block; margin: auto;" /></p>
<center>
Figure 1: A screenshot of the Google Scholar homepage.
</center>
</div>
<div id="figures-images-knitr" class="section level2">
<h2>Figures — Images — <code>knitr</code></h2>
<p>The <code>knitr</code> package offers a capable alternative with the <code>include_graphics()</code> function</p>
<pre class="md"><code>```{r, screenshot, echo=FALSE, fig.cap=&quot;A screenshot of the Google Scholar homepage.&quot;}

knitr::include_graphics(&quot;../figures/google_scholar.png&quot;)

```</code></pre>
<p><img src="/rmarkdown-libs/images_data/google_scholar.png" width="55%" /></p>
<center>
Figure 1: A screenshot of the Google Scholar homepage.
</center>
</div>
<div id="figures-images-knitr-1" class="section level2">
<h2>Figures — Images — <code>knitr</code></h2>
<p>Most other chunk options are common with figures plotted within R Markdown, such as <code>fig.align</code></p>
<pre class="md"><code>```{r ... `fig.align=&quot;center&quot;`}

knitr::include_graphics(&quot;../figures/google_scholar.png&quot;)

```</code></pre>
<p><img src="/rmarkdown-libs/images_data/google_scholar.png" width="40%" style="display: block; margin: auto;" /></p>
<center>
Figure 1: A screenshot of the Google Scholar homepage.
</center>
</div>
<div id="figures-ggplot2-overview" class="section level2">
<h2>Figures — <code>ggplot2</code> — Overview</h2>
<ul>
<li><p>A powerful package for visualising data</p></li>
<li><p>Used widely, not only by academics, but also by large corporations such as the New York Times</p></li>
<li><p>A huge amount is written on this package. See, for example,</p>
<ul>
<li>the <a href="https://www.rdocumentation.org/packages/ggplot2/versions/3.2.1">package documentation</a></li>
<li>this <a href="https://ggplot2-book.org/">book</a> by its creator Hadley Wickham</li>
<li>this <a href="https://ggplot2.tidyverse.org/reference/">reference page</a></li>
<li>this <a href="https://www.youtube.com/watch?v=h29g21z0a68">webinar</a> by one of its authors, Thomas Lin Pedersen<br />
</li>
<li>these <a href="https://exts.ggplot2.tidyverse.org/">extensions</a>, maintained by the <code>ggplot2</code> community</li>
</ul></li>
<li><p>Among its alternatives are the <code>base</code> and <code>plotly</code> packages</p></li>
</ul>
</div>
<div id="figures-ggplot2" class="section level2">
<h2>Figures — <code>ggplot2</code></h2>
<p>Put the code in a chunk, and give it a caption</p>
<p>.pull-left-c[</p>
<pre class="md"><code>```{r, scatterplot, `fig.cap = &quot;A scatterplot of journal metrics.&quot;`}

ggplot(data = df, mapping = aes(x = h5_median, y = h5_index, color = subfield)) +
       geom_point()

```</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="public/teaching/rmd_workshop_files/figure-html/unnamed-chunk-68-1.png" width="864" /></p>
<p>Figure 1. A scatterplot of journal metrics.</p>
<p>]</p>
</div>
<div id="figures-ggplot2-1" class="section level2">
<h2>Figures — <code>ggplot2</code></h2>
<p>Scale the colour to improve the legend</p>
<p>.pull-left-c[</p>
<pre class="md"><code>```{r, scatterplot, fig.cap = &quot;A scatterplot of journal metrics.&quot;}

ggplot(data = df, mapping = aes(x = h5_median, y = h5_index, color = subfield)) +
       geom_point() +
       facet_wrap(. ~ branch) `+`
       `scale_colour_discrete(name = &quot;Journal Type&quot;, breaks = c(0, 1), labels = c(&quot;Generalist&quot;, &quot;Subfield&quot;)`)    

```</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="public/teaching/rmd_workshop_files/figure-html/unnamed-chunk-70-1.png" width="864" /></p>
<p>Figure 1. A scatterplot of journal metrics.</p>
<p>]</p>
</div>
<div id="figures-ggplot2-2" class="section level2">
<h2>Figures — <code>ggplot2</code></h2>
<p>Improve the axis labels, e.g., with capital first letters</p>
<p>.pull-left-c[</p>
<pre class="md"><code>```{r, scatterplot, fig.cap = &quot;A scatterplot of journal metrics.&quot;}

ggplot(data = df, mapping = aes(x = h5_median, y = h5_index, color = subfield)) +
       geom_point() +
       facet_wrap(. ~ branch) +
       scale_colour_discrete(name = &quot;Journal Type&quot;, breaks = c(0, 1), labels = c(&quot;Generalist&quot;, &quot;Subfield&quot;)) +
       theme_bw() `+`
       `labs(x = &quot;H5 Median&quot;, y = &quot;H5 Index&quot;)`

```</code></pre>
<p>]</p>
<p>.pull-right-c[</p>
<p><img src="public/teaching/rmd_workshop_files/figure-html/unnamed-chunk-72-1.png" width="864" /></p>
<p>Figure 1. A scatterplot of journal metrics.</p>
<p>]</p>
<hr />
</div>
<div id="figures-ggplot2-notes" class="section level2">
<h2>Figures — <code>ggplot2</code> — Notes</h2>
<p><code>geom_point</code> is one of many geoms avilable
- see this <a href="https://ggplot2.tidyverse.org/reference" class="uri">https://ggplot2.tidyverse.org/reference</a> for other options, including
- <code>geom_bar</code> for bar charts
- <code>geom_boxplot</code> for box and whiskers plots</p>
<p>class: center, middle</p>
</div>
</div>
<div id="tables" class="section level1">
<h1>Tables</h1>
<div id="tables-markdown-syntax" class="section level2">
<h2>Tables — Markdown Syntax</h2>
<p>The position of headers, relative to their line underneath, defines column alignments</p>
<p>.pull-left[</p>
<p><br></p>
<pre class="r"><code>Left-Aligned          Centered   
----------------  ----------------
First cell        First cell      
Second cell       Second cell   
Third cell        Third cell  </code></pre>
<p>]</p>
<p>.pull-right[</p>
<p><br></p>
<table>
<thead>
<tr class="header">
<th align="left">Left-Aligned       </th>
<th align="center">    Centered    </th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">First cell</td>
<td align="center">First cell</td>
</tr>
<tr class="even">
<td align="left">Second cell</td>
<td align="center">Second cell</td>
</tr>
<tr class="odd">
<td align="left">Third cell</td>
<td align="center">Third cell</td>
</tr>
</tbody>
</table>
<p>]</p>
</div>
<div id="tables-markdown-syntax-1" class="section level2">
<h2>Tables — Markdown Syntax</h2>
<p>The caption line itself needs to be surrounded by empty lines</p>
<p><br></p>
<p>.pull-left[</p>
<pre class="r"><code>    Centered         Right-Aligned 
----------------  ----------------
First cell        First cell      
Second cell       Second cell   
Third cell        Third cell  
                                                                               #&lt;&lt;
: A hand-made table with R Markdown                                      
                                                                               #&lt;&lt;</code></pre>
<p>]</p>
<p>.pull-right[</p>
<center>
Table 1: A hand-made table with R Markdown
</center>
<p><br></p>
<table>
<thead>
<tr class="header">
<th align="center">    Centered    </th>
<th align="right">       Right-Aligned</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">First cell</td>
<td align="right">First cell</td>
</tr>
<tr class="even">
<td align="center">Second cell</td>
<td align="right">Second cell</td>
</tr>
<tr class="odd">
<td align="center">Third cell</td>
<td align="right">Third cell</td>
</tr>
</tbody>
</table>
<p>]</p>
</div>
<div id="tables-markdown-syntax-2" class="section level2">
<h2>Tables — Markdown Syntax</h2>
<p>Grid tables, with the following syntax, can handle complex cells with multiple lines and/or lists</p>
<p>.pull-left[</p>
<pre class="r"><code>+--------------------+--------------------+
| First Column       | Second Column      | 
+====================+====================+
| - First item       | First cell         | 
| - Second item      |                    | 
| - Third item       |                    |
+--------------------+--------------------+
|Second cell         | Second cell with a | 
|                    | long text          | 
+--------------------+--------------------+
| Third cell         | Third cell         | 
|                    |                    | 
+--------------------+--------------------+

: A grid table with multi-line cells                                                         </code></pre>
<p>]</p>
<p>.pull-right[</p>
<br>
<center>
Table 1: A grid table with multi-line cells
</center>
<p><br></p>
<table>
<thead>
<tr class="header">
<th align="left">First Column               </th>
<th align="left">Second Column               </th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">- First item <br> - Second item <br> - Third item</td>
<td align="left">First cell</td>
</tr>
<tr class="even">
<td align="left">Second cell</td>
<td align="left">Second cell with a long<br>text</td>
</tr>
<tr class="odd">
<td align="left">Third cell</td>
<td align="left">Third cell</td>
</tr>
</tbody>
</table>
<p>]</p>
<p>class: action</p>
</div>
<div id="exercises-3" class="section level2">
<h2>Exercises</h2>
<ol start="27" style="list-style-type: decimal">
<li>Markdown Tables</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: table 1 on page 4</li>
<li>apply in <code>journals.Rmd</code>: table 1, between paragraphs 11 and 12</li>
</ul>
<div class="countdown" id="timer_5fb58ff4" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="tables-stargazer-notes" class="section level2">
<h2>Tables — <code>stargazer</code> — Notes</h2>
<ul>
<li><p>We must</p>
<ul>
<li>set the chunk option .inline-c[results=“asis”] for chunks with stargazer tables<br />
<br></li>
<li>change the argument <code>type</code> in the <code>stargazer()</code> function for different output formats accordingly<br />

<ul>
<li style="margin-top: 7px;">
e.g., the default <span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">type = “latex”</span> is for LaTeX and PDF, <span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">type = “html”</span> for HTML
</li>
</ul></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>It is currently not quite possible to <code>knit</code> <code>stargazer</code> code into tables in Word documents</p>
<ul>
<li><code>stargazer</code> tables will not appear in Word documents automatically<br />
<br></li>
<li>workarounds available
<ul>
<li><code>knit</code> to HTML as well as Word, copy the tables from HTML to Word</li>
<li><code>knit</code> to PDF, open the PDF in Word
<ul>
<li>in Word, follow <code>File -&gt; Open</code></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p><code>stargazer</code> tables might look slightly different in different output formats</p>
<ul>
<li>on the following slides, they will have the HTML look</li>
</ul></li>
</ul>
</div>
<div id="tables-stargazer-data-tables" class="section level2">
<h2>Tables — <code>stargazer</code> — Data Tables</h2>
<p>Table the first four rows of the dataset</p>
<pre class="md"><code>```{r, data_table, `echo=FALSE`, `results=&quot;asis&quot;`}

stargazer(data = head(df, n = 4), `type = &quot;latex&quot;`, `summary = FALSE`)

```</code></pre>
<p>–</p>
<p>Notice the options of the chunk and the arguments of the function</p>
<ul>
<li>with .inline-c[echo=FALSE], the code will not be displayed in the output document</li>
</ul>
<p>–</p>
<ul>
<li>with .inline-c[results=“asis”], <code>knitr</code> will pass through results without reformatting them
<ul>
<li>these results are produced in LaTeX, due to <span style="background-color: #e5e5e5; border-radius: 3px; padding: 4px; font-family: &#39;Source Code Pro&#39;, &#39;Lucida Console&#39;, Monaco, monospace;">type = “latex”</span></li>
<li>they should remain LaTeX because our outcome document is PDF, converted from LaTeX</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li>with .inline-c[summary = FALSE], the table will present the data, not its descriptive statistics</li>
</ul>
</div>
<div id="tables-stargazer-data-tables-1" class="section level2">
<h2>Tables — <code>stargazer</code> — Data Tables</h2>
<p>Set .inline-c[header = FALSE] to remove the note preceding tables</p>
<pre class="md"><code>```{r, data_table, echo=FALSE, results=&quot;asis&quot;}

stargazer(data = head(df, n = 4), type = &quot;latex&quot;, summary = FALSE, `header = FALSE`)

```</code></pre>
<p>.medium[</p>
<center>
Table 1:
</center>
<table style="text-align:center">
<tr>
<td colspan="10" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
name
</td>
<td>
origin
</td>
<td>
branch
</td>
<td>
h5_index
</td>
<td>
h5_median
</td>
<td>
english
</td>
<td>
subfield
</td>
<td>
issues
</td>
<td>
age
</td>
</tr>
<tr>
<td colspan="10" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
1
</td>
<td>
Journal of Bears
</td>
<td>
Americas
</td>
<td>
Physical
</td>
<td>
73
</td>
<td>
97
</td>
<td>
1
</td>
<td>
1
</td>
<td>
7
</td>
<td>
61
</td>
</tr>
<tr>
<td style="text-align:left">
2
</td>
<td>
Journal of Moon
</td>
<td>
Asia
</td>
<td>
Social
</td>
<td>
72
</td>
<td>
106
</td>
<td>
1
</td>
<td>
0
</td>
<td>
6
</td>
<td>
64
</td>
</tr>
<tr>
<td style="text-align:left">
3
</td>
<td>
Journal of Lumber
</td>
<td>
Americas
</td>
<td>
Physical
</td>
<td>
72
</td>
<td>
100
</td>
<td>
1
</td>
<td>
1
</td>
<td>
8
</td>
<td>
30
</td>
</tr>
<tr>
<td style="text-align:left">
4
</td>
<td>
Journal of Houses
</td>
<td>
Europe
</td>
<td>
Social
</td>
<td>
72
</td>
<td>
102
</td>
<td>
1
</td>
<td>
0
</td>
<td>
8
</td>
<td>
38
</td>
</tr>
<tr>
<td colspan="10" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>]</p>
</div>
<div id="tables-stargazer-summary-statistics-tables" class="section level2">
<h2>Tables — <code>stargazer</code> — Summary Statistics Tables</h2>
<p>Create a table of summary statistics instead, for the complete dataset</p>
<pre class="md"><code>```{r, summary_table, echo=FALSE, results=&quot;asis&quot;}

stargazer(`data = df`, type = &quot;latex&quot;, `summary = TRUE`, header = FALSE,
          title = &quot;Descriptive statistics&quot;)

```</code></pre>
<p>.medium[</p>
<center>
Table 1: Descriptive statistics
</center>
<table style="text-align:center">
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
h5_index
</td>
<td>
1,091
</td>
<td>
26.361
</td>
<td>
13.814
</td>
<td>
1
</td>
<td>
17
</td>
<td>
35
</td>
<td>
73
</td>
</tr>
<tr>
<td style="text-align:left">
h5_median
</td>
<td>
1,091
</td>
<td>
39.400
</td>
<td>
21.272
</td>
<td>
3
</td>
<td>
25
</td>
<td>
52
</td>
<td>
109
</td>
</tr>
<tr>
<td style="text-align:left">
issues
</td>
<td>
1,091
</td>
<td>
4.676
</td>
<td>
1.786
</td>
<td>
1
</td>
<td>
3
</td>
<td>
6
</td>
<td>
12
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
1,091
</td>
<td>
42.902
</td>
<td>
26.370
</td>
<td>
1
</td>
<td>
23
</td>
<td>
56
</td>
<td>
158
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>]</p>
</div>
<div id="tables-stargazer-summary-statistics-tables-1" class="section level2">
<h2>Tables — <code>stargazer</code> — Summary Statistics Tables</h2>
<p>Omit a selection of statistics for the same effect</p>
<pre class="md"><code>```{r, summary_table, echo=FALSE, results=&quot;asis&quot;}

stargazer(data = df, type = &quot;latex&quot;, summary = TRUE, header = FALSE,
          title = &quot;Descriptive statistics&quot;, `omit.summary.stat = c(&quot;p25&quot;, &quot;p75&quot;)`)

```</code></pre>
<p>.medium[</p>
<center>
Table 1: Descriptive statistics
</center>
<table style="text-align:center">
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
h5_index
</td>
<td>
1,091
</td>
<td>
26.361
</td>
<td>
13.814
</td>
<td>
1
</td>
<td>
73
</td>
</tr>
<tr>
<td style="text-align:left">
h5_median
</td>
<td>
1,091
</td>
<td>
39.400
</td>
<td>
21.272
</td>
<td>
3
</td>
<td>
109
</td>
</tr>
<tr>
<td style="text-align:left">
issues
</td>
<td>
1,091
</td>
<td>
4.676
</td>
<td>
1.786
</td>
<td>
1
</td>
<td>
12
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
1,091
</td>
<td>
42.902
</td>
<td>
26.370
</td>
<td>
1
</td>
<td>
158
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>]</p>
<p>class: action</p>
</div>
<div id="exercises-4" class="section level2">
<h2>Exercises</h2>
<ol start="28" style="list-style-type: decimal">
<li>Summary Statistics Tables</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: table 2 on page 8</li>
<li>apply in <code>journals.Rmd</code>: table 2, between paragraphs 23 and 24</li>
</ul>
<div class="countdown" id="timer_5fb59334" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="tables-stargazer-regression-tables" class="section level2">
<h2>Tables — <code>stargazer</code> — Regression Tables</h2>
<p>.pull-left-c[</p>
<p>Models can also be estimated outside the function first</p>
<pre class="md"><code>```{r, regression_table, echo=FALSE, results=&quot;asis&quot;}

 `lm1 &lt;- lm(h5_index ~ subfield, data = df)`

 stargazer(`data = lm1`, type = &quot;latex&quot;, header = FALSE,
           title = &quot;Regression Results&quot;)

```</code></pre>
<p>]</p>
<p>.pull-right-c[
.medium[</p>
<center>
Table 1: Regression Results
</center>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
h5_index
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
issues
</td>
<td>
1.913<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.227)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
17.415<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.137)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,091
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.061
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.060
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
13.391 (df = 1089)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
70.959<sup>***</sup> (df = 1; 1089)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p>]
]</p>
</div>
<div id="tables-stargazer-regression-tables-1" class="section level2">
<h2>Tables — <code>stargazer</code> — Regression Tables</h2>
<p>.pull-left-c[</p>
<p>Display multiple models in the same table</p>
<pre class="md"><code>```{r, regression_table, echo=FALSE, results=&quot;asis&quot;}

stargazer(`data = list(lm1, lm2)`, type = &quot;latex&quot;, 
          header = FALSE, title = &quot;Regression Results&quot;, 
          keep.stat = c(&quot;n&quot;, &quot;rsq&quot;))

```</code></pre>
<p>]</p>
<p>.pull-right-c[
.medium[</p>
<center>
Table 1: Regression Results
</center>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
h5_index
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
issues
</td>
<td>
1.913<sup>***</sup>
</td>
<td>
1.424<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.227)
</td>
<td>
(0.212)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
english1
</td>
<td>
</td>
<td>
17.262<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(1.244)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
17.415<sup>***</sup>
</td>
<td>
4.226<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.137)
</td>
<td>
(1.415)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,091
</td>
<td>
1,091
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.061
</td>
<td>
0.202
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p>]
]</p>
</div>
<div id="tables-stargazer-regression-tables-2" class="section level2">
<h2>Tables — <code>stargazer</code> — Regression Tables</h2>
<p>.pull-left-c[</p>
<p>Change significance levels</p>
<pre class="md"><code>```{r, regression_table, echo=FALSE, results=&quot;asis&quot;}

stargazer(data = list(lm1, lm2), type = &quot;latex&quot;, 
          header = FALSE, title = &quot;Regression Results&quot;, 
          keep.stat = c(&quot;n&quot;, &quot;rsq&quot;),
          dep.var.labels = &quot;H5 Index&quot;,
          covariate.labels = c(&quot;Issues&quot;, &quot;English&quot;),
          `star.cutoffs = c(0.05, 0.01, 0.001)`)

```</code></pre>
<p>]</p>
<p>.pull-right-c[
.medium[</p>
<center>
Table 1: Regression Results
</center>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
H5 Index
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Issues
</td>
<td>
1.913<sup>***</sup>
</td>
<td>
1.424<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.227)
</td>
<td>
(0.212)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
English
</td>
<td>
</td>
<td>
17.262<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(1.244)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
17.415<sup>***</sup>
</td>
<td>
4.226<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.137)
</td>
<td>
(1.415)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,091
</td>
<td>
1,091
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.061
</td>
<td>
0.202
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></sup>p&lt;0.05; <sup><strong></sup>p&lt;0.01; <sup></strong></em></sup>p&lt;0.001
</td>
</tr>
</table>
<p>]
]</p>
<p>class: action</p>
</div>
<div id="exercises-5" class="section level2">
<h2>Exercises</h2>
<ol start="29" style="list-style-type: decimal">
<li>Regression Tables</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: table 3 on page 10</li>
<li>apply in <code>journals.Rmd</code>: table 3, between paragraphs 30 and 31</li>
</ul>
<div class="countdown" id="timer_5fb5910e" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">30</span></code>
</div>
<p>class: action</p>
</div>
<div id="exercises-6" class="section level2">
<h2>Exercises</h2>
<ol start="30" style="list-style-type: decimal">
<li>Referring to Tables</li>
</ol>
<ul>
<li>see <code>reproduce_this.pdf</code>: pages 7 and 9</li>
<li>apply in <code>journals.Rmd</code>: paragraph 23 and 29</li>
</ul>
<div class="countdown" id="timer_5fb590b6" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="functionality-gaps" class="section level2">
<h2>Functionality Gaps</h2>
<ul>
<li>Not everything is possible to achieve with R Markdown syntax, code chunks, and/or code
<ul>
<li>e.g., centering text</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>Workarounds available through inclusion of other languages and/or syntaxes in .Rmd documents</p>
<ul>
<li>e.g., incorporating HTML or LaTeX code into R Markdown</li>
<li>workarounds might be output specific
<ul>
<li>e.g., LaTeX-based workarounds may work only for LaTeX and PDF outputs</li>
</ul></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>There are no exclusive list of gaps or workarounds</p>
<ul>
<li>these are gap- or problem-specific</li>
<li>after writing a few manuscripts with R Markdown, you will have addressed most typical gaps in your workflow</li>
</ul></li>
</ul>
</div>
<div id="functionality-gaps-examples" class="section level2">
<h2>Functionality Gaps — Examples</h2>
<div id="problem" class="section level4">
<h4>Problem:</h4>
<p>Markdown tables do not have labels, which would otherwise allow us to refer to them in text</p>
<p>–</p>
</div>
<div id="solution" class="section level4">
<h4>Solution:</h4>
<p>Insert a LaTeX label after the table caption, and use the .inline-c[] syntax in text</p>
<pre class="md"><code>See `\autoref{handmade_table}` for further details.


: A hand-made table with R Markdown `\label{handmade_table}`

+--------------------+--------------------+
| Left-Aligned       | Centered           | 
...
    
</code></pre>
<p><br></p>
<p>.out-t[See <a href="">Table 1</a> for further details.]</p>
</div>
</div>
<div id="functionality-gaps-examples-1" class="section level2">
<h2>Functionality Gaps — Examples</h2>
<div id="problem-1" class="section level4">
<h4>Problem:</h4>
<p>R Markdown adds the list of references to the end of documents. This might be undesirable for some manuscripts, for example those with an appendix. Similarly, some journals require tables and figures to be added after references.</p>
<p>–</p>
</div>
<div id="solution-1" class="section level4">
<h4>Solution:</h4>
Define where exactly the list of references should appear with the HMTL code .inline-c[&lt;div id].inline-c[=“refs”&gt;
</div>
<p>]</p>
<pre class="r"><code># References
&lt;div id = &quot;refs&quot;&gt;&lt;/div&gt;

# Appendix</code></pre>
…
header-includes:
-

<p>class: action</p>
</div>
</div>
<div id="exercises-7" class="section level2">
<h2>Exercises</h2>
<ol start="33" style="list-style-type: decimal">
<li>Line Spacing</li>
</ol>
<ul>
<li>introduce 1.5 spacing to the manuscript
<ul>
<li>hint: the command is called <code>onehalfspacing</code><br />
<br></li>
</ul></li>
<li>except for the Abstract, which should be single spaced</li>
</ul>
<div class="countdown" id="timer_5fb591be" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
<p>name: part8
class: inverse, center, middle</p>
</div>
</div>
<div id="part-8.-using-version-control" class="section level1">
<h1>Part 8. Using Version Control</h1>
<p>.footnote[</p>
<p><a href="#contents-slide">Back to the contents slide</a>.</p>
<p>]</p>
<div id="version-control" class="section level2">
<h2>Version Control</h2>
<ul>
<li><p>Research papers have many versions before publication</p>
<ul>
<li>typically written over a long period of time, in numerous sittings</li>
<li>at the end of every sitting, essentially a different version of the same manuscript is created</li>
</ul></li>
<li><p>With many versions created over time, there emerges at least two challenges</p>
<ul>
<li>keeping track of changes and versions</li>
<li>reverting to a previous version when necessary</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>We all version control, in different ways, such as</p>
<ul>
<li>edit, rename, save</li>
<li>use applications or websites such as Dropbox, Google Docs, Overleaf</li>
<li>use distributed version control systems such as Git and GitHub</li>
</ul></li>
</ul>
</div>
<div id="version-control-git-and-github-definitions" class="section level2">
<h2>Version Control — Git and GitHub — Definitions</h2>
<ul>
<li>Git
<ul>
<li>a software that keeps track of versions of a set of files</li>
<li>it is <em>local</em> to you, the records are kept on your computer</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li>GitHub
<ul>
<li>a hosting service, or a website, that can keep the records</li>
<li>it is <em>remote</em> to you, like the Dropbox website</li>
<li>but unlike Dropbox, GitHub is specifically structured to keep records with Git</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li>Repository, or repo
<ul>
<li>a set of files whose records are kept together, by Git and/or on GitHub</li>
<li>it is like a folder, which can keep files and other folders containing files</li>
</ul></li>
</ul>
</div>
<div id="version-control-git-and-github" class="section level2">
<h2>Version Control — Git and GitHub</h2>
<p>Version control with Git and GitHub requires</p>
<ol style="list-style-type: decimal">
<li>.yellow-h[initial setup], done once<sup>*</sup>
<ul>
<li>unless for a new computer or, if ever, a new GitHub account</li>
<li>a bit technical, but worth the hussle</li>
</ul></li>
<li>.yellow-h[project setup], repeated for every paper
<ul>
<li>shorter, less complicated</li>
</ul></li>
</ol>
<p>.footnote[</p>
<p><sup>*</sup> We have started this process already, in Part 1 of the workshop, by downloading and installing Git and signing up for GitHub. <a href="#install-git">Back to the relevant slide</a>.</p>
<p>]</p>
<p>class: action</p>
</div>
<div id="version-control-git-inital-setup" class="section level2">
<h2>Version Control — Git — Inital Setup</h2>
<ol start="2" style="list-style-type: decimal">
<li>Set Git Bash as your shell (Windows-only step)</li>
</ol>
<ul>
<li>from the RStudio menu, follow:</li>
</ul>
<blockquote>
<p><code>Tools -&gt; Global Options -&gt; Terminal -&gt; New terminals open with: Git Bash</code></p>
</blockquote>
<p>class: action</p>
</div>
<div id="version-control-git-and-github-project-setup" class="section level2">
<h2>Version Control — Git and Github — Project Setup<sup>*</sup></h2>
<ol style="list-style-type: decimal">
<li>Initiate local version control with Git</li>
</ol>
<ul>
<li>from the RStudio menu, follow:</li>
</ul>
<blockquote>
<p><code>Tools -&gt; Version Control -&gt; Project Setup... -&gt; Version Control System -&gt; Git</code></p>
</blockquote>
<ul>
<li><p>after confirming your new repository, and restarting the session, observe that</p>
<ul>
<li><p>now there is now a Git tab in RStudio, documenting the differences between you local repository and the one on GitHub. When you change a file, it will appear here.</p></li>
<li><p>your project now includes a <code>.gitignore</code> file</p>
<ul>
<li>this is where you can list files and/or folders to be excluded from being tracked</li>
</ul></li>
</ul></li>
</ul>
<p>.footnote[</p>
<p><sup>*</sup> These instructions presume there is an exiting RStudio project to be set up for version control. If not, or to start a new project, follow from <a href="#rstudio-project">this slide</a> first.</p>
<p>]</p>
<p>class: action</p>
</div>
<div id="version-control-git-and-github-project-setup-1" class="section level2">
<h2>Version Control — Git and Github — Project Setup</h2>
<ol start="3" style="list-style-type: decimal">
<li>Push an existing repository</li>
</ol>
<ul>
<li>from the RStudio menu, follow:</li>
</ul>
<blockquote>
<p><code>Tools -&gt; Terminal -&gt; New Terminal</code></p>
</blockquote>
<ul>
<li>enter the following lines in the <code>Terminal</code>, with your username and repository name</li>
</ul>
<pre class="yaml"><code>git remote add origin https://github.com/USER_NAME/REPOSITORY_NAME.git
git add .
git commit -m &quot;first commit&quot;
git push -u origin master
</code></pre>
<ul>
<li>observe that your project files are now online, listed on the GitHub repository</li>
</ul>
<p>class: action
name: git-github-basic-workflow</p>
</div>
<div id="version-control-git-and-github-workflow" class="section level2">
<h2>Version Control — Git and Github — Workflow</h2>
<ol style="list-style-type: decimal">
<li>Edit and Save</li>
</ol>
<ul>
<li>work on one or more files under version control
<ul>
<li>e.g., delete the first sentence of the abstract in <code>journals.Rmd</code>, and save it</li>
<li>under the Git tab in RStudio, find the list of files that you edited since the last push</li>
<li>these will have <code>M</code>, for modified, as <code>Status</code></li>
</ul></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Commit and Push</li>
</ol>
<ul>
<li>tick <code>Staged</code> for one or more files that you would like to commit
<ul>
<li>enter a <code>Commit message</code> that summarises the edits</li>
<li>click <code>Commit</code> to create a record of the new version locally to your computer</li>
<li>click <code>Close -&gt; Push</code> to push the version to GitHub</li>
</ul></li>
<li>observe the changes in the Git tab in RStudio and on the GitHub repository</li>
</ul>
</div>
<div id="version-control-git-and-github-.gitignore" class="section level2">
<h2>Version Control — Git and Github — <code>.gitignore</code></h2>
<ul>
<li><p>There might be good reasons to ignore some others, including files</p>
<ul>
<li>that contain information that we do not want others to see
<ul>
<li>e.g., personal API keys<br />
<br></li>
</ul></li>
<li>that we do not have the right to share with others
<ul>
<li>e.g., secondary data with user agreements otherwise<br />
<br></li>
</ul></li>
<li>that we (re-)create automatically as outputs
<ul>
<li>e.g., <code>journals.pdf</code>, as opposed to journals.Rmd</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="version-control-git-and-github-.gitignore-1" class="section level2">
<h2>Version Control — Git and Github — <code>.gitignore</code></h2>
<p>.pull-left[</p>
<ul>
<li><p>Observe that, by default, <code>.gitignore</code> has a list of project-specific files</p></li>
<li><p>In addition, you can ignore, for example,</p>
<ul>
<li><span style="background-color: #ffff88;">a specific folder</span>, relative to the root directory</li>
</ul></li>
</ul>
<p>]</p>
<p>.pull-right[</p>
<pre class="r"><code>.Rproj.user
.Rhistory
.RData
.Ruserdata
/manuscript/      #&lt;&lt;</code></pre>
<p>]</p>
</div>
<div id="version-control-git-and-github-.gitignore-2" class="section level2">
<h2>Version Control — Git and Github — <code>.gitignore</code></h2>
<p>.pull-left[</p>
<ul>
<li><p>Observe that, by default, <code>.gitignore</code> has a list of project-specific files</p></li>
<li><p>In addition, you can ignore, for example,</p>
<ul>
<li><p>a specific folder, relative to the root directory</p></li>
<li><p>a specific file in a specific folder, relative to the root directory</p></li>
<li><p><span style="background-color: #ffff88;">a specific file in any folder</span></p></li>
</ul></li>
</ul>
<p>]</p>
<p>.pull-right[</p>
<pre class="r"><code>.Rproj.user
.Rhistory
.RData
.Ruserdata
/manuscript/
/manuscript/journals.pdf
journals.pdf               #&lt;&lt;</code></pre>
<p>]</p>
</div>
<div id="version-control-git-and-github-.gitignore-notes" class="section level2">
<h2>Version Control — Git and Github — <code>.gitignore</code> — Notes</h2>
<ul>
<li><p>There are many other pattern formats</p>
<ul>
<li>see the documentation at <a href="https://git-scm.com/docs/gitignore" class="uri">https://git-scm.com/docs/gitignore</a></li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>Starting to ignore a file or folder that is already being tracked requires clearing the cache</p>
<ul>
<li>after changing and saving <code>.gitignore</code>, enter the following line in the <code>Terminal</code></li>
<li>with your speficic <code>/path/to/file</code></li>
</ul></li>
</ul>
<pre class="yaml"><code>git rm --cached /path/to/file
</code></pre>
<p>–</p>
<ul>
<li><p>The following command clears <em>all</em> cache</p>
<ul>
<li>might be useful after changes to <code>.gitignore</code> that involves several files or folders</li>
<li>but should be used with care, on an otherwise up-to-date repository</li>
</ul></li>
</ul>
<pre class="yaml"><code>git rm -r --cached .
</code></pre>
<p>name: part9
class: inverse, center, middle</p>
</div>
</div>
<div id="part-9.-collaborating-with-others" class="section level1">
<h1>Part 9. Collaborating with Others</h1>
<p>.footnote[</p>
<p><a href="#contents-slide">Back to the contents slide</a>.</p>
<p>]</p>
<div id="collaboration-git-and-github-definitions" class="section level2">
<h2>Collaboration — Git and GitHub — Definitions</h2>
<ul>
<li><p>To pull</p>
<ul>
<li>to move the (presumably) up-to-date records from GitHub to your computer</li>
<li>it is like downloading a zipped folder of files</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>To merge</p>
<ul>
<li>to integrate different versions into a single version
<ul>
<li>e.g., the old version on your laptop, with (the changes in) the new version from GitHub</li>
</ul></li>
<li>except the first push or pull, pushing and pulling necessiate merging</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li><p>Merge conflict</p>
<ul>
<li>emerges when versions to be merged include edits <em>on the same line of the same file</em>
<ul>
<li>edits on different lines are not a problem as changes are tracked line by line<br />
<br></li>
</ul></li>
<li>less likely to occur in one-author-multiple-computer setting
<ul>
<li>more likely while collaborating with others<br />
<br></li>
</ul></li>
<li>requires human intervention, to decide which edit to keep and which one to discharge</li>
</ul></li>
</ul>
</div>
<div id="collaboration-git-and-github-project-setup" class="section level2">
<h2>Collaboration — Git and GitHub — Project Setup</h2>
<ul>
<li>The setup depends on the users’ role, on whether they are
<ul>
<li>the <em>owner</em> who creates the GitHub repository, or</li>
<li>the <em>collaborator</em> who is then added to that repository</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li>Once the project is setup
<ul>
<li>it continues to be associated with the owner’s GitHub profile</li>
<li>at the same time, it is listed under the collaborator’s profile as well</li>
<li>both the owner and the collaborator have the same rights, unless otherwise restricted</li>
</ul></li>
</ul>
</div>
<div id="collaboration-git-and-github-project-setup-collaborator" class="section level2">
<h2>Collaboration — Git and GitHub — Project Setup — Collaborator</h2>
<ol style="list-style-type: decimal">
<li>Notice that the remote part of the setup is done by the owner for the collaborator</li>
</ol>
<ul>
<li>subject to acceptance of the invitation
<ul>
<li>invitations are available directly at <a href="https://github.com/notifications" class="uri">https://github.com/notifications</a>, but also sent via email</li>
<li>with an option to “Accept invitation”</li>
<li>on aceptance, projects appear among the repositories of the collaborator</li>
</ul></li>
</ul>
<p>–</p>
<ol start="2" style="list-style-type: decimal">
<li>The local part of the setup still needs to be done</li>
</ol>
<ul>
<li>by creating a new RStudio project with version control</li>
<li>following, from the Rstudio menu,<sup>*</sup></li>
</ul>
<blockquote>
<p><code>File -&gt; New Project -&gt; Version Control -&gt; Git</code></p>
</blockquote>
<p>–</p>
<ul>
<li>the <code>Repository URL</code>, required for the above process, is the version without the <code>.git</code> extension
<ul>
<li>in the form of <a href="https://github.com/OWNER_USER_NAME/REPOSITORY_NAME" class="uri">https://github.com/OWNER_USER_NAME/REPOSITORY_NAME</a></li>
</ul></li>
</ul>
</div>
<div id="colloboration-git-and-github-workflow" class="section level2">
<h2>Colloboration — Git and Github — Workflow</h2>
<ol style="list-style-type: decimal">
<li>Pull</li>
</ol>
<ul>
<li>on the Git tab in RStudio, click <code>Pull</code> to move the up-to-date records from GitHub to your computer
<ul>
<li>if your collaborator has not pushed anything since your last pull, you will be noticed that <code>Already up-to-date</code>.</li>
<li>colloborative projects require pulling as well as pushing because your colloborator(s) might have pushed their commits to GitHub</li>
<li>pulling frequently minimises the risk of merge conflicts</li>
</ul></li>
</ul>
<p>–</p>
<ol start="2" style="list-style-type: decimal">
<li>Edit and save; commit and push</li>
</ol>
<ul>
<li>the same procedure as in any single-author, single-computer senario
<ul>
<li>as described on <a href="#git-github-basic-workflow">this slide</a> forward</li>
</ul></li>
<li>pushing frequently minimises the risk of merge conflicts</li>
</ul>
<p>class: action</p>
</div>
<div id="exercises-8" class="section level2">
<h2>Exercises</h2>
<ol start="40" style="list-style-type: decimal">
<li>Simultaneous Collaboration — Different Lines</li>
</ol>
<ul>
<li>work on the same document at the same time
<ul>
<li><em>owner</em>: edit the first header in the document (i.e., “R Markdown”), save, commit, and push</li>
<li><em>collaborator</em>: edit the second header in the document (i.e., “Including Plots”), save, commit, and push
<ul>
<li>observe the error message that the last pusher will recieve, follow the instructions on RStudio to solve the problem</li>
</ul></li>
</ul></li>
</ul>
<div class="countdown" id="timer_5fb59127" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
<p>–</p>
<ul>
<li>notice that you have encountered an error but not a merge conflict
<ul>
<li>pulling before pushing solves the problem because the edits are not on the same line</li>
<li>the merge takes place automatically, on the <em>local</em> repository of the last pusher</li>
</ul></li>
</ul>
</div>
<div id="colloboration-git-and-github-workflow-alternative" class="section level2">
<h2>Colloboration — Git and Github — Workflow — Alternative</h2>
<ul>
<li>The workflow above is rather simple, but has some disadvantages, including
<ul>
<li>not easy, albeit still possible, to see the edits of the collaborators</li>
<li>not clear who is in charge of the overall progress</li>
<li>not possible to discuss edits</li>
<li>not possible to comprimise on conflicting edits</li>
</ul></li>
</ul>
<p>–</p>
<ul>
<li>An alternative workflow exits
<ul>
<li>work on different branches of the same project</li>
<li>version control to your own branch</li>
<li>create pull requests with comments</li>
<li>merge the branch into master</li>
</ul></li>
</ul>
<p>class: action</p>
</div>
<div id="exercises-9" class="section level2">
<h2>Exercises</h2>
<ol start="42" style="list-style-type: decimal">
<li>Pull request</li>
</ol>
<ul>
<li>create a pull request for your collaboration project
<ul>
<li>create a branch for yourself</li>
<li>edit any line, save, commit, and push</li>
<li>request your branch to be merged</li>
</ul></li>
</ul>
<ol start="43" style="list-style-type: decimal">
<li>Merging</li>
</ol>
<ul>
<li>view the pull request of your collaborator</li>
<li>take the necessary steps to merge it to <em>master</em></li>
</ul>
<div class="countdown" id="timer_5fb59013" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
<p>class: action</p>
</div>
<div id="exercises-10" class="section level2">
<h2>Exercises</h2>
<ol start="44" style="list-style-type: decimal">
<li>GitHub edit</li>
</ol>
<ul>
<li>create two edits on the <code>.Rmd</code> document in your collaboration project</li>
<li>commit one of the edits as a direct commit</li>
<li>commit the other as a pull request</li>
</ul>
<div class="countdown" id="timer_5fb59143" style="top:0;right:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
<div id="real-project" class="section level2">
<h2>Real Project</h2>
<ul>
<li>Consider converting a real project to R Markdown
<ul>
<li>now, in the remainder of the workshop</li>
</ul></li>
<li>Choose an existing project, preferably
<ul>
<li>single-authored</li>
<li>at an early stage</li>
<li>but one that you are, will be, working on</li>
</ul></li>
<li>Ask me for help
<ul>
<li>with no more slides to go through, I will now focus on helping you start your first project in R Markdown</li>
</ul></li>
</ul>
<p>class: inverse, center, middle</p>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<div id="references-1" class="section level2">
<h2>References</h2>
<p>Wickham, H., François, W., Henry L. and Müller, K. (2020b). <a href="https://cran.r-project.org/web/packages/ggplot2/index.html">ggplot2: Create elegant data visualisations using the grammar of graphics</a>. R package, version 0.8.5.</p>
<p>Wiernik, B. M. (2020). <a href="https://www.zotero.org/styles/apa-no-ampersand">American Psychological Association 7th edition (no ampersand)</a>. Citation style language file, version 1.0.</p>
<p>Xie, Y. (2020a). <a href="https://cran.r-project.org/web/packages/tinytex/index.html">tinytex: Helper functions to install and maintain TeX Live and compile LaTeX documents</a>. R package, version 0.21.</p>
<p>Xie, Y. (2020b). <a href="https://cran.r-project.org/web/packages/knitr/index.html">knitr: A general-purpose package for dynamic report generation in R</a>. R package, version 1.28.</p>
<p>Xie, Y. (2020c). <a href="https://cran.rstudio.com/web/packages/bookdown/index.html">bookdown: Authoring books and technical documents with R Markdown</a>. R package, version 0.18.</p>
<p>Xie, Y. (2020d). <a href="https://cran.r-project.org/web/packages/blogdown/index.html">blogdown: Create blogs and websites with R Markdown</a>. R package, version 0.18.</p>
<p>Xie, Y., Allaire, J. J., and Grolemund, G. (2019). R markdown: The definitive guide. CRC Press. Open access at <a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown</a>.</p>
<p>Zhu, H. (2019). <a href="https://cran.r-project.org/web/packages/kableExtra/index.html">kableExtra: Construct Complex Table with ‘kable’ and Pipe Syntax</a>. R package, version 1.1.0.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Preliminary draft. Please do not cite or circulate without permission from the author.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Department of Science, University of Random. Email: <a href="mailto:jane.doe@random.edu" class="email">jane.doe@random.edu</a>. Website: <a href="http://www.janedoe.com" class="uri">http://www.janedoe.com</a>.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Preliminary draft. Please do not cite or circulate without permission from the author.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Department of Science, University of Random. Email: <a href="mailto:jane.doe@random.edu" class="email">jane.doe@random.edu</a>. Website: <a href="http://www.janedoe.com" class="uri">http://www.janedoe.com</a>.<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Preliminary draft. Please do not cite or circulate without permission from the author.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Department of Science, University of Random. Email: <a href="mailto:jane.doe@random.edu" class="email">jane.doe@random.edu</a>. Website: <a href="http://www.janedoe.com" class="uri">http://www.janedoe.com</a>.<a href="#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Preliminary draft. Please do not cite or circulate without permission from the author.<a href="#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>Department of Science, University of Random. Email: <a href="mailto:jane.doe@random.edu" class="email">jane.doe@random.edu</a>. Website: <a href="http://www.janedoe.com" class="uri">http://www.janedoe.com</a>.<a href="#fnref8" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
